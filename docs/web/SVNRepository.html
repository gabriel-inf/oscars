<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>SVN Repositories</title>
  <link rel="stylesheet" href="styleSheets/oscars.css" type="text/css">
  <link rel="shortcut icon" href="images/esnet.ico" type="image/x-icon">
</head>
<body>
<!--#include virtual="header.html" -->
<div id="topBar" class="topBar">
<div class="topBarDiv"> &nbsp;
<a href="index.html">home</a> &gt; <a href="SVNRepository.html">SVN
Repositories</a>
</div>
</div>
<h2>OSCARS Repositories</h2>
The OSCARS source code is kept in an SVN repository at&nbsp;<a
 href="https://oscars.es.net/repos/oscars">https://oscars.es.net/repos/oscars</a>.
<h3>Source Code Repository subdirectories</h3>
There are three main subdirectories of the source tree:
<dl style="margin-left: 40px;">
  <dt><span style="font-weight: bold;">releases</span> </dt>
  <dd>Contains the official release branches.<br>
  </dd>
  <dt><span style="font-weight: bold;">branches</span> </dt>
  <dd>Contains
stable branches for internal releases and release candidates. This
directory may
also contain branches for new features that are not complete yet.</dd>
  <dt><span style="font-weight: bold;">trunk </span> </dt>
  <dd>All reasonably
complete development work is checked in to
the trunk. </dd>
</dl>
The contents of the branches in the releases directory will not change.
If critical bug fixes
are needed between releases an internal release branch (aka
micro-release) will be created in the branches directory.<br>
<br>
The internal release and release candidate branches may have bug fixes
or critical features added that do not affect the compatibility with
previous versions of the branch. An internal release is cut in order to
get some carefully monitored experience running
new features on the ESnet pre-production machine. A release candidate
is made several weeks before a new release. It should be run by several
beta testers before it is blessed as the next release. The OSCARS
pre-production machine will always be running either an official
release, an internal release or a release candidate. In the latter
cases, it will be closely monitored.<br>
<br>
Feature branches will mostly belong to one developer, and should not be
very long-lived. As soon as a new feature works well enough not to
break other things, it should be merged onto the trunk.<br>
<p>
It is assumed that general users will only have access to the releases
subdirectory. Only active developers will be given read/write access to
the branches or trunk.<br>
</p>
<h3>Branch Structure<br>
</h3>
<ul>
  <li><code style="font-weight: bold;">build/</code>&nbsp; - a mostly
empty directory in which the class files
and oscars.aar will be built<br>
  </li>
  <li><code style="font-weight: bold;">build.xml</code>&nbsp; - the ant
build file<br>
  </li>
  <li><code style="font-weight: bold;">conf/</code> - configuration
files for the databases, router
configuration commands, OSCARS service defintiion, sample security
configuration files and keystores, general properties files. </li>
  <li><code style="font-weight: bold;">docs/</code> - all documentation
that get deployed with the OSCARS war<br>
  </li>
  <li><code style="font-weight: bold;">dojoWeb/</code> - javaScript,
html, images, and style sheets used
by the dojo servlet version of the WBUI </li>
  <li><code style="font-weight: bold;">examples/</code> - client web
service programs as examples of how to use
the web service interface </li>
  <li><code style="font-weight: bold;">lib/</code> - the subset of jar
files that OSCARS needs that we
distribute. More jar files are copied into this directory during the
build process: targets - axis2LocalCopy, tomcatLocalCopy, jarRemoteCopy
  </li>
  <li><code style="font-weight: bold;">maven-repository/</code> - an
empty directory used by the build procees
to fetch the mysql-connector-java jar. </li>
  <li><code style="font-weight: bold;">schemas/</code> - a temporary
directory to hold experimental schemas<br>
  </li>
  <li><code style="font-weight: bold;">sql/</code> - SQL commands to
initially populate the aaa, and bss
databases </li>
  <li><code style="font-weight: bold;">src/</code> - the source code
for the OSCARS server </li>
  <li><code style="font-weight: bold;">test/</code> - test programs </li>
  <li><code style="font-weight: bold;">tools/</code> - a number of
helpful programs for managing the data
bases. Also the scheduler process source is here. </li>
  <li><code style="font-weight: bold;">web/</code> - javaScript, html,
images, and style sheets used by the
original version of the WBUI</li>
</ul>
<h3>Domain Specific Repository</h3>
There is a separate domain specific repository that holds domain
specific configuration files and security tokens. For ESnet it is at <a
 href="https://oscars.es.net:/esnet/domain/trunk">https://oscars.es.net:/esnet/domain/trunk</a>.
It
is only accessible to ESNet developers. Other sites running an OSCARS
server need to create their own domain repository. The OSCARS build
targets: prepare and setupServer, assume that the directory specified
by
the DOMAIN_HOME environment variable will contain the following
files.
<ul>
  <li><span style="font-weight: bold;">${DOMAIN_HOME}/server </span>:
sec-server.jks, sec-server.properties, sec-client.jks,
sec-client.properties, oscars.key, pss.key,oscars,properties,
test.properties</li>
  <li><span style="font-weight: bold;">${DOMAIN_HOME}/client:</span>
axis2.xml, ssl-keystore.jks</li>
</ul>
<p>
See&nbsp;<a href="msgSecurity.html">Message Security</a> for an
explanation of these files.<br>
See <a href="subversion.html">svn usage notes</a> for suggestions on
how to create a local repository.<br>
<br>
</p>
<!--#include virtual="footer.html" -->
</body>
</html>
