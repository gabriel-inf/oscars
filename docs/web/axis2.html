<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>Axis2 Usage Notes</title>
  <base href="/docs">
  <link rel="stylesheet" href="styleSheets/oscars.css" type="text/css">
  <link rel="shortcut icon" href="images/esnet.ico" type="image/x-icon">
</head>
<body>
<!--#include virtual="header.html" -->
<div id="topBar" class="topBar">
<div class="topBarDiv"> <a href="index.html"> home</a> &gt; <a
 href="dependencies.html">Dependencies</a>
&gt; <a href="axis2.html">Installing Axis2</a>
</div>
</div>
<h2>Axis2/Rampart Installation <br>
</h2>
<h3>How to install or upgrade Axis2 + rampart.mar</h3>
<span style="color: rgb(204, 0, 0);">Note: this procedure is now done
by the install.sh script.</span> <br>
<br>
<h3><span style="font-weight: bold; font-style: italic;">To Build</span></h3>
<h3><span style="font-weight: bold; font-style: italic;"></span></h3>
<span style="font-weight: bold; font-style: italic;"></span>The OSCARS
code uses the the WSSE functionality provided by the
ramapart.mar to digitally sign and verify SOAP messages. So when you
install axis2 you must include the rampart.mar.<br>
<ul>
  <li>Download the axis2 distribution from <a
 href="http://ws.apache.org/axis2">http://ws.apache.org/axis2</a> and
the
rampart module from <a
 href="http://ws.apache.org/axis2/modules/rampart/1_3/security-module.html">http://ws.apache.org/axis2/modules/rampart/1_3/security-module.html</a>.&nbsp;
  </li>
  <br>
  <li>Extract the zip files into a common directory<br>
  </li>
  <br>
  <li>Set the environment variable $AXIS2_HOME to the directory in
which
axis was unzipped.</li>
  <br>
  <li>Run ant in the rampart-1.3 directory. This will copy the
rampart jars to axis2 lib. </li>
  <br>
  <li>In the axis2-1.3/webapp directory, edit the create.war target
in build.xml to remove the lines:
    <pre>     &lt;exclude name="axis2-adb-codegen*.jar"&gt;<br>     &lt;exclude name="axis2-codegen*.jar"/&gt;<br>     &lt;exclude name="jibx-bind*.jar"/&gt;</pre>
  </li>
  <li>Edit the conf/axis2.xml file to engage rampart by adding
following line to the Global Modules section.<br>
    <pre>    &lt;module ref="rampart"/&gt;</pre>
If you want a
better chance at debugging errors change <span
 style="font-style: italic;">DrillDownToRootCause </span>to true and <span
 style="font-style: italic;">sendStackTraceDetails</span> to true. </li>
  <br>
  <li>Then run ant to create an axis2.war file that includes rampart
and its required classes.</li>
</ul>
<br>
You should then copy all the axis2 jar files into OSCARS/lib/axis2 in
your OSCARS distribution /lib directory.&nbsp; <span
 style="color: rgb(204, 0, 0);">(Now done by the ant task
axis2localcopy called by prepare.)</span><br>
<a name="axis2">
<h2>Axis2 Configuration</h2>
</a>
<ul>
  <li>$CATALINA_HOME/webapps/axis2/WEB-INF/web.xml<br>
    <ul>
      <li> defines servlets, e.g SOAPMonitor. AdminServlet,Axis2Servlet</li>
      <li>maps urls to servlet names, and servlet names to class</li>
    </ul>
  </li>
  <li>$CATALINA_HOME/webapps/axis2/WEB-INF/conf/axis2.xml<br>
    <ul>
      <li>Defines parameters like enableMTOM, username, password (for
axis admin)</li>
      <li> defines messageRecievers, transportReceivers(http, tcp, smtp</li>
      <li>Engage global modules like SOAPMonitor and rampart</li>
      <li> defines phase order (added soapMonitor phase)</li>
    </ul>
  </li>
  <li>$CATALINA_HOME/webapps/axis2/WEB-INF/classes/log4j.properties<br>
  </li>
  <ul>
    <li>Our version is copied from conf/server/axis2.log4j.properties
by the ant target deployaar. The OSCARS.aar gets it from here and not
from within OSCARS.aar. </li>
  </ul>
</ul>
<br>
<br>
<span style="font-weight: bold; font-style: italic;">To Install</span><br>
<ul>
  <li>Copy the new axis.2war file into $CATALINA_HOME/webapps/</li>
  <li><br>
  </li>
  <li>If Tomcat is configured with autoDeploy set to true, the new war
will
be automatically started. Otherwise you will need to shutdown and
restart Tomcat.<br>
  </li>
</ul>
<!--#include virtual="footer.html" -->
</body>
</html>
