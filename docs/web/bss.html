<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <meta content="text/html; charset=ISO-8859-1"
 http-equiv="content-type">
  <title>BSS component</title>
  <base href="/docs">
  <link rel="stylesheet" href="styleSheets/oscars.css" type="text/css">
  <link rel="shortcut icon" href="images/esnet.ico" type="image/x-icon">
</head>
<body>
<!--#include virtual="header.html" -->
<div id="topBar" class="topBar">
<div class="topBarDiv"> &nbsp; <a href="index.html">home</a> &gt;
Components &gt; <a href="bss.html">BSS</a>
</div>
</div>
<h1>Bandwidth Scheduling Subcomponent</h1>
<h2>Overview</h2>
<br>
The bandwidth scheduling component is the component that
schedules a reservation. It parses the createReservation request,
checks with the&nbsp;<a href="aaa.html">authorization component</a>
that the user has permission to make the reservation and then hands the
requested path to the <a href="pathfinder.html">pathfinder component</a>
to determine the actual path through the network that will be used. It
then checks to see if the required resources are available during the
requested time interval. If so, it holds those resources and creates a
Global Reservation Identifier (GRI) which will be used to identify the
reservation across domains. If the end
point of the path is not in the local domain, the BSS forwards the
createReservation request to the next domain. The final domain in the
path will create a token, derived from the GRI that can be used to
signal the start of the reservation. If the reservation
is able to sucessfully hold all the resources it needs across all the
downstream domains, the local resources are scheduled and the
reservation is entered into the BSS's reservation table.<br>
<br>
<h2>Configuration</h2>
<br>
When the OSCARS server software is installed, the bss database tables
must be created and populated. There are two sets of table: those used
to define reservations that start out empty and those used to define
topology that must be populated with topology information. See <a
 href="tss.html">TSS Component Notes</a> for details on the topology
tables.<br>
<br>
<h2>Details</h2>
<br>
The createReservation message contains the path that is to be reserved,
the amount of bandwidth to be reserved, the start time for the
reservation, the duration, the burst limit, the purpose of the
reservation and if coming from another domain, the global reservation
identifier. See the <a href="wsdl.html">OSCARS wsdl files</a> for the
precise type of each of these parameters. The input path definition is
very flexible. It can simply be the source and destination host
IP addresses, or can include ingress and egress points for each domain,
or even the hops within domains. It is referred to as a unconfirmed
loose hop path (ULP). At the end of the reservation process a confirmed
loose hop (CLP) is returned to the user where it has been verified that
an acutal path with the requested bandwidth can be made through these
hops.&nbsp; The way the hops are expressed depends on the layer (2 or
3) that is being specified and how the domains specify their
topologies. see <a href="tss.html">topology exchange</a>.&nbsp; <br>
<br>
Once the reservation has been added to the reservations table in each
of the transited domains, the circuit can be instantiated either by a
scheduler procces that is triggered by the start time of the
reservation or by a signal message from the user that the data flow is
ready to start. The circuit setup (and subsequent&nbsp; teardown) is
handled&nbsp; by the <a href="pss.html">path realization component</a>.
<br>
<h2>BSS Tables</h2>
<!--==#include virtual="footer.html"--> <span
 style="font-weight: bold;"><br>
</span>There are two classes of tables used by the BSS: ones that
describe the static topology of the local domain and some aspect of
adjacent domains; and ones that describe reservations.<br>
<br>
<h3>Reservation specific tables</h3>
When a reservation is made an entry is created for it in the <span
 style="font-weight: bold;">reservations table</span> containing the
following information:<br>
<pre>	Integer id 			/** identifier field */  <br>	Long startTime 			/** persistant field */<br>	Long endTime 			/** persistant field */  <br>	Long createdTime 		/** persistant field */<br>	Long bandwidth 			/** persistant field */<br>	String login			/** persistant field: login name of the owner of the reservation */ <br> 	String status 			/** persistant field */<br>	String description	    	/** nullable persistent field */<br>	String globalReservationId     	/** nullable persistent field */  <br> 	Integer pathId 			/** persistant field: index to paths table */<br>	Integer token			/** nullable persistent field: index to tokens table */ </pre>
<br>
The <span style="font-weight: bold;">paths table </span>contains:<br>
<pre> 	Integer id  		/** identifier field */ <br>	Boolean explicit 	/** persistant field: was path specified by user */ <br>	String pathSetupMode  	/** nullable persistent field: by timer or message signal */ <br> 	Integer nextDomainId 	/** nullable persistent field */  <br>	Integer pathElemId  	/** persistant field: index to first path element */ <br>	Integer layer2DataId 	/** nullable persistent field: index to layer2Data table */ <br>	Integer layer3DataId 	/** nullable persistent field: index to layer3Data table  */ <br>	Integer mplsDataId  	/** nullable persistent field: index to mpls table  */<br></pre>
Where explicit is true if the complete path was input; pathSetupMode
specifies if the path will be instantiated automatically by the
scheduler or by a signal from the user; if nextDomainId is not
null it is an index into the domain table that identifies the next
domain on the path, otherwise this is the terminal domain; PathElemId
is the index of the first
hop on the path; either layer2DataId or layer3DataId is set and is an
index into the appropriate layerData table; if mpls is not null it is
an index into mpls data for this path.
<p>The <span style="font-weight: bold;">pathElems table</span>
contains the following information for each hop
on the path:
</p>
<pre>	Integer id  		/** identifier field */ <br>	String description 	/** nullable persistent field */ <br>	Integer linkId  	/** persistant field */ <br>	String linkDescr 	/** nullable persistent field */ <br>	Integer nextId  	/** nullable persistent field */ <br></pre>
The <span style="font-weight: bold;">layer2Data table </span>contains
the endpoints for a layer 2 reservation.<br>
<pre> 	Integer id           	/** identifier field */  <br>	String srcEndpoint  	/** persistant field: URN topology id */ <br>	String destEndpoint 	/** persistant field: URN topology id */<br></pre>
and <span style="font-weight: bold;">layer3Data table</span> contains
the endpoints for a layer 3 reservation.<br>
<pre> 	Integer id           	/** identifier field */  <br>	String srcHost    	/** persistant field: dotted ip address */ <br>	String destHost   	/** persistant field: dotted ip address */ <br>	Integer srcIpPort  	/** nullable persistent field */  <br>	Integer destIpPort 	/** nullable persistent field */ <br>	String protocol   	/** nullable persistent field */ 	<br>	String dscp 		/** nullable persistent field */ </pre>
Where linkId is an index into the links table and nextId
is a index to the next
pathElem if any.<br>
<br>
The <span style="font-weight: bold;">tokens table</span> contains an
opaque identifier associated with each reservation.<br>
<pre>	Integer id            	/** identifier field */  <br>	Integer reservationId 	/** persistant field */ <br>	String value         	/** persistant field */ </pre>
<br>
<br>
<!--#include virtual="footer.html" -->
</body>
</html>
