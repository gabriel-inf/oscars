Release Notes - DCN Software Suite - Version 0.5.4

Values in brackets (i.e. [xxx]) reference the project and an entry in the bug tracker (if applicable).
See http://code.google.com/p/oscars-idc/ for further details on changes.

Version 0.5.4
** Improvement
*[Issue 149] Added prompt during installation to change default Axis2 username and password.

Version 0.5.3
** Improvement
*[Issue 117] Failed Circuit Configuration Rollback for Router based Dataplanes
This feature added automatic configuration rollback when a circuit setup failure is observed. This feature only applies to configurations which are based on Juniper or Cisco routers, and an OSCARS only deployment.  For deployments which are based on OSCARS and DRAGON, automatic rollback features was previously available.  No changes have been made to the automatic configuration rollback behavior for OSCARS/DRAGON deployments.

*[Issue 120, 121, 122, 123, 141] VLAN Translation
This allows a circuit to have different VLANS on the source and destination.  In order for VLAN Translation to be operational, the underlying network elements must be able to support that feature.  In addition, the availability of VLAN Translation must be indicated in the IDC topology files.  See the latest install documentation for the detailed configuration information.

*[Issue 117] Failed Circuit Configuration Rollback for Router based Dataplanes This feature added automatic configuration rollback when a circuit setup failure is observed. This feature only applies to configurations which are based on Juniper or Cisco routers, and an OSCARS only deployment.  For deployments which are based on OSCARS and DRAGON, automatic rollback features was previously available.  No changes have been made to the automatic configuration rollback behavior for OSCARS/DRAGON deployments.

** Bug
*[Issues 139] Fixed issues with the update updateTopology.sh and importXML.sh where topology updates would sometimes result in old data being left in the topology database with improper references to active topology elements.  This would sometimes cause problems with viewing historical data and/or path computation.

*[Issue 99, 113] Fixed issue where site-administrators could not see circuits which terminated on their site edge port, but were not reserved by the viewing site-administrator.  This fix allows a site-administrator to view all circuits which terminate on their edge port, regardless of who reserved the circuit.

*[Issue 106] Fixed issues with trailing whitespace in topology files causing problems.

*[Issue 122] Fixed issues where multiple circuits with same VLAN on one router caused problems.  

*[Issue 124] Fixed issue with multi-domain provisioning when there is a single node in one of the Domains.

*Fixed issue where duplicate notifications exchanged between IDCs would cause problems for the provision 
of multi-domain circuit provisioning.


Values in brackets (i.e. [IDC-1]) reference the project and an entry in the bug tracker (if applicable).
See https://bugs.internet2.edu/ for further details on changes.

Version 0.5.2
** Bug
* Fixed deadlock that can occur during paths etup if notifications received in certain orders
* Fixed issues in traceroute pathfinder
* Fixed issue where all domains were considered opaque and perfSONAR pathfinder failed to get inter-domain path 
* [IDC-87] Fixed issue where user add form on WBUI would not allow hyphens

** Improvement
* Added more properties to control the DRAGON timeout

Version 0.5.1
See https://wiki.internet2.edu/confluence/display/DCNSS/0.5.1+Release+Notes

Version 0.5
See https://wiki.internet2.edu/confluence/display/DCNSS/0.5+Release+Notes

Version 0.4

** Improvement
    * [VLSR] - Addition of 'vlan-options bypass-conflict-check' and 'slots te+/gi+ NUM' configs in RSVPD.conf
    * [NARB] - New ConstraintTagSet data structure that greatly improves computation speed for handling Ethernet VLAN and wavelength constraints

** Bug
    * [IDC] - Fixed WBUI "force status" buttons
    * [IDC] - Increased wait time for VLSR to build circuits to 2 minutes
    * [IDC] - Added lookup.topology property to documentation and examples
    * [VLSR] - Fixed bugs in Switch Control Sessions for Force10 E300/600
	* [VLSR] - Better handling of equivalent source and destination local-ids on the same VLSR
	* [VLSR] - Change of SubnetUNI Switch Control Session disengage using 'canc-user' tl1 command instead of directly closing telnet/ssh socket
	* [NARB] - Fixed bugs and memory leaks in KSP
	* [NARB] - Modified sigterm and sigsegv interruption handlers to avoid unnecessary coredumps.
	
Version 0.4 Beta
** New Feature
    * [IDC-68] - Register IDC and NB with Lookup Service
    * [IDC] - Automatically discover neigboring IDCs URLs with the LS
    * [IDC] - Include WS-Policy in all outgoing messages
** Bug
    * [IDC] - Fixed database connection errors
    
Version 0.4 Alpha
** New Feature
    * [IDC-41] - Make messaging "asynchronous"
    * [IDC-58] - IDC event notification interface added
    * [IDC-67] - Support for VLAN Mapping
    * [IDC-70] - Add support for "Site Administrator" attribute
    * [IDC-75] - Register Local Topology with Topology Service
    * [IDC-76] - Automatically calculate paths on data in topology service
    * [IDC-77] - Use Global Lookup Service
    

** Improvement
    * [IDC-64] - Customize email notifications sent by OSCARS
    * [IDC-69] - Create "Core" where primary functionality is executed> this includes removing separate scheduler process.
    * [IDC-72] - Improvements with OSCARS to DRAGON Interaction

** Bug
    * [IDC-62] - Tagged Local-id does not get deleted in VLSR
    * [IDC-63] - Circuit will not cancel when downstream domain has failure
    * [IDC-66] - IDC v0.3.1 tries to telnet to port '0' instead of remotePort (2611) when ssh.portForward=0

Version 0.3.1
** New Features
    * [IDC-38] - Scripts for managing certificates
    * [IDC-48] - New WBUI using Dojo library
    * [IDC-49] - Allow user to modify reservation from WBUI
    * [IDC-50] - Support 'tunnel-mode' setting for Ciena CoreDirectors
    * [IDC-51] - Allow user to clone reservation from WBUI
    * [IDC-54] - Allow VLSRs to be access via a non-standard SSH port
    * [VLSR]   - Added default slot number->type mapping for Force10 switches.
	
** Improvements
    * [IDC-52] - Log VLSR  command-line ouput in scheduler.log
    * [IDC-55] - Allow TERCEPathfinder to check explcitly set intra-domain path segments
    * [IDC-56] - Allow paths that start and terminate on the same node to be automatically detected without using static-routes.xml
    * [IDC]    - Added version 0.3.1 of DCN-SUITE-OSCARS-INSTALL.doc and DCN-SUITE-OSCARS-INSTALL.pdf
    * [NARB]   - Added narb-rce-architecture-v2.1b.pdf, narb-design-user-manual-v2.1b.pdf and rce-design-user-manual-v2.1b.pdf
    * [VLSR]   - Added DRAGON-INSTALL-v0 3.pdf and dragon-vlsr-implement-v2.1b.pdf
    
** Bug Fixes
    * [IDC-12] - Interdomain requests throw 'org.apache.ws.security.components.crypto.Merlin cannot create instance'
    * [IDC-34] - WBUI throws "No Session Can be established" when multiple users access same account
    * [IDC-35] - Path setup fails with  "PortForwardingL: local port 127.0.0.1:XXXX cannot be bound"
    * [IDC-36] - WBUI throws error "Source host XXXX does not existDestination host XXXX does not exist"
    * [IDC-37] - OSCARS fails with 'java.lang.OutOfMemoryError' Exception
    * [IDC-39] - "Link IDs must be IP Addresses on IDC Running DRAGON" error on Ethernet networks
    * [IDC-42] - OSCARS issues numerous DNS queries resulting in NXDOMAIN
    * [IDC-43] - ModifyReservation Requests will Not Forward
    * [IDC-44] - Circuit not deleted when CancelReservation sent when reservation already in PRECANCEL
    * [IDC-45] - Untagged Inter-domain circuit is not untagged all the way through the network
    * [IDC-46] - Old version of WBUI remains after upgrade
    * [IDC-47] - Receive 'No database selected' from MySQL when do_upgrade.sh creates new user attributes
    * [IDC-53] - OSCARS throws 'ClassNotFoundException: org.hibernate.hql.ast.HqlToken [from net.es.oscars.aaa.User where certSubject = :certSubject]'
    * [VLSR]   - Local-id does not delete on ethernet switches after running 'delete local-id'
    
Version 0.3
** New Features
    * Created do_build.sh and do_install.sh scripts to help with OSCARS installation
    * Created do_upgrade.sh script to assist users upgrading from version 0.2 of software
    * Added modifyReservation request to extend previously placed reservations
    * New interdomain routing that supports strict and loose interdomain paths
    * Added support for optional pathType element in createReservation requests
    * OSCARS can now explicitly request a path (hop-by-hop) from VLSR
    * Added parameters to listReservation to allow for more detailed queries
    * Modified WBUI form to filter reservation list
    * Added OSCARS-service and OSCARS-administrator roles to default installation
    * Changed topology mapping so that nodes map  to CienaCoreDirectors rather than VLSRs
    * Moved sec-server.jks out of jar file and into $CATALINA_HOME/shared/classes/server
    * Created idc-useradd/del scripts for adding/deleting users
    * Created idc-orgadd/del scripts for adding/deleting organizations
    * Created idc-domainadd/del scripts for adding/deleting domains
    * Created OSCARS monitoring PERL script that verifies all components are running
    * Created OSCARS exerciser client which can read run multiple tests from an input file
    * Added check for VLAN on WBUI if URNs are used
    * Added option to tag circuits as production
    * Created custom notification system for developing modules that notify about circuit activity
    * Added more detailed HTML documentation
    * Extended testing framework and created test tables
    * Added aaa.secureCookie property for requiring SSL access to WBUI
    * Added useSignalTokens property (must be set to 0 for PowerPC machines)
    * Added TopologyExporter/Importer script for other domains
    * Store interdomain-path separate from intra-domain path in database
    * Added option to suppress MPLS parameters in createReservation clients
    * Extensive updates to install documentation
   
** Bug Fixes
    * Fixed bug where SSH key was loaded even if ssh.portForward=0
    * Fixed a number of potential NULL pointer exceptions
    * Removed dragon and TERCE targets from build.xml (including problematic ones)
    * Cleaned-up SQL scripts and removed problematic INSERT statements
    * Installer now capable of building Axis2 correctly so Rampart always included
    * Fixed updateTopology.sh (TERCE) so it inserts other domain's remoteLinks in other domains
    
Version 0.2
** Bug Fixes
    * [IDC-14] - CancelReservation Servlet does not forward requests
    * [IDC-23] - Scheduler encounters "Path cannot be created. Reservation start time not yet reached."
    * [IDC-26] - VLSR does not delete egress local-id when SSH is used
    * [IDC-27] - Institution does not properly change on WBUI

** Improvements
    * [IDC-15] - Change  startTime and endTime fields to seconds (not milliseconds)
    * [IDC-16] - Change pathSetupMode to contain more descriptive values
    * [IDC-19] - Add fields to specify if source and destination ports are tagged to WBUI
    * [IDC-20] - Modify ListReservationsCLI to accept the number of results to return
    * [IDC-21] - Report XML syntax error in updatebdterce/updateTopology.sh
    * [IDC-22] - Remove hardcoded paths from scheduler.sh
    * [IDC-24] - Use catalina.home in log4j.properties instead of hardcoded path
    * [IDC-25] - Add capability to use environment variables in oscars.properties
    * [IDC-28] - Move TERCE download and other configuration copying to new initdragon build target 
