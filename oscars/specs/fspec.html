<html>
<title>OSCARS Reservation Manager Functional Specification</title>
</head>
<body>
<h2>OSCARS Reservation Manager Functional Specification</h2>

<h3>Year 2 Update (DRAFT)</h3>

<em>David Robertson, Chin Guok</em><br/>
ESnet<br/><br/>

August 30, 2005<br/>

<hr>

<h2>Objective</h2>

<p>To develop and deploy a new service that can provide secure guaranteed
bandwidth circuits within ESnet.</p>

<h2>Introduction</h2>

<p><a href="http://www.es.net/oscars/">OSCARS</a> is an acronym for
On-Demand Secure Circuits and Advance Reservation System.  The focus of 
OSCARS is on facilitating bandwidth-intensive large scientific projects.</p>

<p>This document lists the requirements for the reservation manager (RM)
component of OSCARS, updated for year 2 of the project.  The RM's 
responsibilities include setting up user accounts, setting up and tracking 
reservations and circuits, handling security and monitoring, and accounting.</p>

<p>If a parenthesized indicator is given following a requirement's description,
it indicates the year of the project during which it is scheduled or was
completed.
</p>

<p>Current requirements are largely taken from Chin Guok's Powerpoint
presentations, the OSCARS Web page, discussions with
QoS/MPLS researchers at other DOE labs and  Internet2, and from lessons
learned from the initial year one implementation.
</p>

<h2>Scope</h2>

<p>This document covers the requirements for the RM and its
clients.  The requirements for the other major component of
OSCARS, which handles the details of setting up the guaranteed bandwidth
circuit using MPLS and RSVP, are outside the scope of this document.</p>

<p>Specific design decisions are in a companion document,
the OSCARS RM <a href="dspec.html">design specification.</a></p>

<h2>Use of standards</h2>

<p>The RM must use existing standards for authorization,
authentication, encryption, policy, addressing, resource discovery, messaging,
etc., wherever possible.  The implementation must also attempt to use a minimum
number of standards/packages, to make installation as easy as possible.</p>

<h2>Modes of operation</h2>

<p>The manager must be able to run in conjunction with current ESnet
proprietary network management systems, as well as in a completely open source
mode that other organizations can incorporate and use without additional
licensing.</p>

<h2>Security</h2>

<p>The administration of an end-to-end circuit must conform to security
models of all entities along that path.</p>

<p>All components of the service must be monitored to ensure that they are
not being abused.</p>

<br/>
<hr>

<h2>Reservation manager</h2>

<p>The RM must have four subsystems:

<ol>
<li>An authentication, authorization, and accounting subsystem (AAAS),<br/>
<li>A bandwidth scheduler subsystem (BSS),<br/>
<li>A path setup subsystem (PSS), and<br/>
<li>A client interface (both a manual interface and an API),<br/>
</ol>

<br/>

<h3>AAAS</h3>

<p>The AAAS must handle all external requests and enforce security restrictions,
including user authentication (y1) and authorization (y2),
and generate usage records for auditing and accounting (y2/y3).
Arguments to requests correspond to input fields that are listed
in the section below on the user interface, and are not duplicated here.</p>

<p>The AAAS must handle requests for accounts (y2), and login requests (y1).
</p>

<p>User account names must be globally unique.</p>

<p>The AAAS must handle the following requests from users who have 
successfully logged in:</p>

<ul>

<li>Request to view and edit the details of a user's account profile (y1).
</li><br/>

<li>Request for an allocation of bandwidth to use in making reservations (y3).
</li><br/>

<li>Request to view a user's current allocation and usage (y3).
</li><br/>

<li>Requests related to the reservation of bandwidth (these requests are 
forwarded to the BSS, and are detailed in the next section).
</li><br/>
</ul>

<p>In addition, there must be user accounts with administrative privileges.
The AAAS must accept these requests from administrators:</p>

<ul>
<li>Request to view all user accounts, and to edit their profiles (y1).
</li><br/>

<li>Request to add or delete a user account (y2).
</li><br/>
</ul>

<h3>BSS</h3>

<p>The BSS must accept reservations, keep track of current reservations, and 
maintain information necessary for future reservations:</p>

<ul>
<li>Upon receiving a reservation request from a client, the BSS
must extract an authenticated ID and pass it to a Policy Decision Point (PDP)
to authorize the request.  After authorization is obtained, the BSS
must attempt to schedule the reservation (y3).<br/><br/>

<li>The BSS must maintain a calendaring system to avoid conflicts in
reservations (y1/y2).<br/><br/>

<li>The BSS must determine the path that will be taken, and reserve bandwidth
on the links.  Just prior to the reservation time, the BSS must invoke the
PSS to set up the circuit.  The BSS must also trigger the teardown
of the circuit when the reservation has expired (y1).<br/><br/>

<li>The BSS must estimate future availability of circuits based on current
and archived network statistics (y3).<br/><br/>

<li>The BSS must take into account scheduled maintenance
and track unplanned outages.  It must limit new reservations or revise
existing reservations during those time periods, after determining the 
the appropriate policy (y3).<br/><br/>

<li>
If there is a new scheduled outage that conflicts with a reservation already
made, or if there is an unplanned outage on one of the interfaces in that path,
the BSS must try to recompute a new path.  It must get the current topology,
and then determine the new path.
The BSS must make a request to the PSS to remove the previous circuit and set
the circuit to the alternative path (y3).<br/><br/>

</ul>

<p>The BSS must accept the following client requests, forwarded from the
AAAS:</p>

<ul>
<li>Request for bandwidth reservation (y1).
</li><br/>

<li>Request for a list of the client's current reservations (y1).
</li><br/>

<li>Request for details of a specific reservation (y1).
</li><br/>

<li>Request to cancel a reservation that has already been made (y1).
</li><br/>

<li>Request to modify a reservation that has already been made (y2).
</li><br/>
</ul>
 
<p>The following notifications must be made to clients,
and must include the status of a reservation,
the bandwidth allocated, and the QoS value (y1).</p>

<ul>
<li>Notification of a reservation being successfully placed (y1).
</li><br/>

<li>Notification of a reservation being changed or cancelled (y2).
</li><br/>

<li>Notification of LSP setup and the status of that setup (y1).
</li><br/>

<li>Notification of LSP teardown and the status of that teardown (y1), 
including the total packets/bytes forwarded (y2).
</li><br/>
</ul>

<p>In addition, there must be user accounts with system engineer privileges.
The BSS must accept these requests from system engineers:</p>

<ul>
<li>Request for a list of all clients' current reservations (y1).
</li><br/>

<li>Request for the details of any client's reservation (y1).
</li><br/>
</ul>

<p>The BSS must handle policies associated with the scheduling and actual
use of the network:</p>

<ul>
<li>Policies must be in place to avoid any interference by the OSCARS system
with production traffic.  Policies may include those intended to prevent
monopolization of the OSCARS service (y1), and those dictating pre-emption of an
existing reservation to resolve resource reservation conflicts due to network
outages (y2).
</li><br/>

<li>The BSS must maintain any policy that restricts any resource that the BSS
tracks.  The BSS must detect any out-of-policy usage, and enforce it.
A user must be notified of any
reservations that were not in compliance with policy and terminated (y3).
</li><br/>

<li>The bandwidth used by an application must be compared
against that requested in the the application's reservation.  If the
BSS determines that bandwidth used by the application is over any limit,
it must determine whether to enforce the relevant
policy (y3).
</li><br/>

<li>The total bandwidth consumed by all currently active OSCARS reservations
must be tracked, and if total bandwidth is over the limit, the BSS must
handle policy enforcement (y1).
</li><br/>

</ul>

<h3>PSS</h3>

<p>The PSS must set up and tear down the on-demand circuits on
the appropriate routers, based on a request by the BSS.  To do so, it must
change the router configuration on the start and end of the circuit (y1).</p>

<p>Prior to circuit setup, the PSS must validate the route to use, and
query routers along the path to check for "illegal" active circuits that could
conflict with bandwidth reservation (y2).</p>

<br/>

<h3>User interface</h3>

<p>The user interface must provide means for making requests associated with
reserving bandwidth, and with managing a user's account.  
The interface for manual requests must be simple and intuitive.  It must prompt 
the user for a
username/password or certificate before allowing any requests.  It must in
general operate within the trusted domain of the resource manager.</p>

<p>The API for automated reservations by user applications should utilize
well-known mechanisms.</p>

<p>Client requests generated by either manual or automated means
must use the same transport and message encoding (for example, SOAP) to
communicate with the AAAS.  For the manual interface, forms must
be provided to gather the information for a request, which may require an 
additional step of sending the request as a message to the AAAS.
For the API, a service description must be provided that will allow use of
the RM.</p>


</body>
</html>


