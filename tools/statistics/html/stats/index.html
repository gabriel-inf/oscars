<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
		<title>DCN Usage Statistics</title>
		<style type="text/css">
        	@import "lib/dojo-release-1.3.1/dijit/themes/tundra/tundra.css";
			@import "lib/dojo-release-1.3.1/dojo/resources/dojo.css";
			@import "style/dcn_usage.css";
    	</style>
		<script type="text/javascript" src="lib/dojo-release-1.3.1/dojo/dojo.js" djConfig="parseOnLoad: true"></script>
		<script type="text/javascript" src="lib/sortable.js"></script>
		<script type="text/javascript" src="scripts/usageGraph.js"></script>
		<script type="text/javascript">	
			dojo.addOnLoad(init);
		</script>
	</head>
	<body class="tundra">	
		<div id="topHeader">
				<img src="images/header-970.png">
			</div>
		<div id="main">
			<div id="topMenu">
				<a href="#" onClick="dijit.byId('settingsDialog').show()">Settings</a>
			</div>
			<div id="report" align="center">
				<table border="0">
		    		<tr>
		    			<td>
		    				<div id="zoomYSlider" dojoType="dijit.form.VerticalSlider"
								style="height: 300px;"value="1" intermediateChanges="true" 
								minimum="1" maximum="20"></div>
						</td>
						<td>
						    <div id="chartTitle"><span id="titleGraphType">Number of Reservations</span> Per <span id="titleX">Month</span> For <span id="titleStart">1/1/2009</span> to <span id="titleEnd">5/22/2009</span></div>
		        			<div id="dcnChart">
								<div id="loadingLabel">Loading Report...</div><br>
								<div dojoType="dijit.ProgressBar" jsId="jsProgress" id="initProgress" indeterminate="true"></div>
							</div>
						</td>
					</tr>
					<tr>
		    			<td colspan="2">
							<div id="zoomXSlider" dojoType="dijit.form.HorizontalSlider"
								style="width: 900px;"value="1" intermediateChanges="true" 
								minimum="1" maximum="20"></div>
						</td>
					</tr>
				</table>
				<br><br>
				<div id="tableKey">BW=Bandwidth (Mbps), Dur=Duration (Minutes)</div>
				<div id="dcnTableDiv"></div>
			</div>
			
			<div id="footer">

			</div>
			
			<div id="settingsDialog" dojoType="dijit.Dialog"  title="Settings" class="tundra">
					<form id="chartParams">
						<table class="settingsTable">
							<tr>
								<td class="settingsTableLabel">
								Independent Variable:
								</td>
								<td>
									<select id="xType" name="xType" onchange="enableXTypeFields()">
									<option value="time">Time</option>
									<option value="users">User</option>
									<option value="links">Link</option>
									</select>
								</td>
							</tr>
							<tr>
								<td class="settingsTableLabel">
									Graph Type: 
								</td>
								<td>
									<select id="yType" name="yType">
									<option value="resvCount">Number of Reservations</option>
									<option value="bwSum">Total Bandwidth</option>
									<option value="bwAvg">Average Bandwidth</option>
									<option value="bwMax">Maximum Bandwidth</option>
									<option value="bwMin">Minimum Bandwidth</option>
									<option value="bwStd">Bandwidth Standard Deviation</option>
									<option value="durSum">Total of Durations</option>
									<option value="durAvg">Average Duration</option>
									<option value="durMax">Maximum Duration</option>
									<option value="durMin">Minimum Duration</option>
									<option value="durStd">Duration Standard Deviation</option>
									<option value="hopCountAvg">Average Number of Hops</option>
									<option value="hopCountMax">Maximum Number of Hops</option>
									<option value="hopCountMin">Minimum Number of Hops</option>
									<option value="hopCountStd">Hop Standard Deviation</option>
									</select>
								</td>
							</tr>
							<tr>
								<td class="settingsTableLabel">
									Time Range Start: 
								</td>
								<td>
									<input type="text" name="timeStart" id="timeStart"
			        				dojoType="dijit.form.DateTextBox" />
								</td>
							</tr>
							<tr>
								<td class="settingsTableLabel">
									Time Range End:
								</td>
								<td>
									<input type="text" name="timeEnd" id="timeEnd"
			        				dojoType="dijit.form.DateTextBox" />
								</td>
							</tr>
							<tr>
								<td class="settingsTableLabel">
									 <div id="xParamLabel">Increment Time By:</div>
								</td>
								<td id="xParamRow">
									<div id="timeIncrementMenu">
										<select id="xTimeIncrement" name="xTimeIncrement">
											<option value="day">Day</option>
											<option value="week">Week</option>
											<option value="month" selected>Month</option>
											<option value="year">Year</option>
										</select>
									</div>
									<div id="edgeMenu">
										<input type="radio" id="edgeRadioAll" name="edgeRadio" onclick="disableAll('xEdge')" checked>Any edge link<br>
										<input type="radio" id="edgeRadioSelect" name="edgeRadio" onclick="enableAll('xEdge')">One or more of the selected edges:<br>
										<div id="edgeSettings" class="scrollPane"></div>
										<span class="checkPaneButton"><a href="#" onclick="selectAllChecks('xEdge', 'edgeRadio', 1)">Select All</a></span> 
										<span class="checkPaneButton"><a href="#" onclick="unselectAllChecks('xEdge', 'edgeRadio', 1)">Unselect All</a></span>
									</div>
								</td>
							</tr>
							<tr>
								<td colspan="2">
								<table>
									<tr>
										<td>
										<span class="settingsTableLabel">Show data for users: </span> <br>
										<input type="radio" name="userRadio" onclick="disableAll('xUser')" checked>All users<br>
										<input type="radio" name="userRadio" onclick="enableAll('xUser')">Only selected:<br>
										<div id="userSettings" class="scrollPane"></div>
										<span class="checkPaneButton"><a href="#" onclick="selectAllChecks('xUser', 'userRadio', 1)">Select All</a></span> 
										<span class="checkPaneButton"><a href="#" onclick="unselectAllChecks('xUser', 'userRadio', 1)">Unselect All</a></span>
										</td>
										<td>
											<span class="settingsTableLabel">Show data for links:</span> <br>
											<input type="radio" name="linkRadio" onclick="disableAll('xLink')" checked>All links<br>
											<input type="radio" name="linkRadio" onclick="enableAll('xLink')">Only selected:<br>
											<div id="linkSettings" class="scrollPane"></div>
											<span class="checkPaneButton"><a href="#" onclick="selectAllChecks('xLink', 'linkRadio', 1)">Select All</a></span> 
											<span class="checkPaneButton"><a href="#" onclick="unselectAllChecks('xLink', 'linkRadio', 1)">Unselect All</a></span>
											<br>
										</td>
									</tr>
								</table>
								</td>
							</tr>
							<tr>
								<td colspan="2" align="center">
									<input type="button" value="Generate Report" id="reportButton" onClick="requestChart('chartParams');">
								</td>
							</tr>
							<tr>
								<td colspan="2" align="center">
									<div dojoType="dijit.ProgressBar" style="width:300px; visibility: hidden;" jsId="jsProgress" id="reportProgress"></div>
								</td>
							</tr>
						</table>
					</form>
				</div>
		</div>
	</body>
</html>
