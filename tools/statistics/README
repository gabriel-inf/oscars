================================================
Dynamic Circuit Statistics v 1.0 - June 11, 2009
================================================

-------------
Description:
-------------
This program provides a set of CGI scripts and web pages that report usage
statistics on networks running OSCARS. Various data is provided and can be
analyzed as a function of time, user or network link. Data is presented in
table and bar chart form. 

-------------
Requirements:
-------------
- OSCARS
- MySQL
- Apache Web Server
- PERL
- The following PERL modules:
    - CGI
    - Date::Parse
    - DateTime
    - DBI
    - JSON
    - YAML
    
-------------
Installation:
-------------
1. Create the required mysql table with teh following command
    mysql -u YOUR_USERNAME -p bss < sql/createTables.sql
2. Edit "cgi-bin/conf/config.yaml" with the following:
    - Set your local domain by changing the "localdomain" property to the 
      domain id used in your XML topology description.
    - Set your MySQL username and password by chaging the "db_user" 
      and db_pass" properties to a MySQL username and password with
      read permission on the bss database.
    - You may optionally indicate names for edge links using the "edge_links" 
      property. Edge links are those with remote sides descriped as *:*:*:*.
      Set "label" to a better name "i.e. MyNode->MyHost" and "urn" to the URN
      of the edge link. Edge links will not be displayed unless specified here.
    - You may optionally exclude URNs using the "exclude_links" property. Set the
      name of the link followed by 1. NOTE: The name is not the URN, it is the
      short name displayed by the UI (i.e. MyNode1->MyNode2).
3. Change the MySQL username and password in "utils/runReport.pl" by 
   replacing MYUSER and MYPASS in the following lines:
    my $DB_USER = "MYUSER";
    my $DB_PASS = "MYPASS";
   This account must have read and write permissions on the "bss table". 
   It may be the same as in step 2 if the account has write permissions. 
4. Add run "utils/runReport.pl" to the crontab by running "crontab -e". This script will periodically
   compile the stats displayed on the graph. To have it compile these stats every 30 minutes tadd the following to crontab:
        0,30 * * * * perl $OSCARS_HOME/tools/statistics/utils/runReport.pl
5. Decompress the dojo library under "html/lib/dojo-release-1.3.1.tar.gz":
    cd html/lib/
    gunzip dojo-release-1.3.1.tar.gz
    tar -xvf dojo-release-1.3.1.tar
6. Copy the contents of html/stats to a subdirectory under apache. For example:
    cp -r html/stats /var/www/html/stats 
7. Copy the contents of cgi-bin to a subdirectory under apache. For example:
    cp -r cgi-bin/* /var/www/cgi-bin 
8. You should now be able to visit the page using your browser. For example:
    Open browser to http://yourdomain.net/stats