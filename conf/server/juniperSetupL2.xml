<junoscript version="1.0" release="7.3">
<rpc><lock-configuration /></rpc>
<rpc>
  <load-configuration>
    <configuration>
      <interfaces>
        <interface>
            <name><user-var>interface</user-var></name>
            <unit>
                <name><user-var>vlan_id</user-var></name>
                <description><user-var>resv-id</user-var><txt>:</txt><user-var>bandwidth</user-var><txt>:oscars-l2circuit:show:circuit-intercloud</txt></description>
                <encapsulation>vlan-ccc</encapsulation>
                <vlan-id><user-var>vlan_id</user-var></vlan-id>
                <family>
                    <ccc>
                        <policer>
                            <input><user-var>resv-id</user-var></input>
                        </policer>
                    </ccc>
                </family>
            </unit>
        </interface>
      </interfaces>
      <policy-options>
        <policy-statement>
            <name><user-var>resv-id</user-var></name>
            <term>
                <name><user-var>resv-id</user-var></name>
                <from>
                    <community><user-var>resv-id</user-var></community>
                </from>
                <then>
                    <install-nexthop>
                        <lsp><user-var>resv-id</user-var></lsp>
                    </install-nexthop>
                    <forwarding-class>expedited-forwarding</forwarding-class>
                </then>
            </term>
        </policy-statement>
        <community>
            <name><user-var>resv-id</user-var></name>
            <members><user-var>community</user-var></members>
        </community>
      </policy-options>
      <routing-options>
        <forwarding-table>
            <export><user-var>resv-id</user-var></export>
        </forwarding-table>
      </routing-options>
      <protocols>
        <mpls>
            <label-switched-path>
                <name><user-var>resv-id</user-var></name>
                <from><user-var>lsp_from</user-var></from>
                <to><user-var>lsp_to</user-var></to>
                <metric>65535</metric>
                <bandwidth><user-var>bandwidth</user-var></bandwidth>
                <class-of-service><user-var>lsp_class-of-service</user-var></class-of-service>
                <setup-priority><user-var>lsp_setup-priority</user-var></setup-priority>
                <reservation-priority><user-var>lsp_reservation-priority</user-var></reservation-priority>
                <primary>
                    <name><user-var>resv-id</user-var></name>
                </primary>
            </label-switched-path>
        </mpls>
      </protocols>
      <protocols>
        <mpls>
            <path>
                <name><user-var>resv-id</user-var></name>
                <!-- inserted programmatically
                <path-list>
                    <name><user-var>explicit-hop</user-var></name>
                    <strict/>
                </path-list>
                -->
            </path>
        </mpls>
        <l2circuit>
            <neighbor>
                <name><user-var>egress-rtr-loopback</user-var></name>
                <interface>
                    <name><user-var>port</user-var><txt>.</txt><user-var>vlan_id</user-var></name>
                    <virtual-circuit-id><user-var>vlan_id</user-var></virtual-circuit-id>
                    <description><user-var>resv-id</user-var></description>
                    <community><user-var>resv-id</user-var></community>
                </interface>
            </neighbor>
        </l2circuit>
      </protocols>
      <firewall>
        <policer>
            <name><user-var>resv-id</user-var></name>
            <logical-interface-policer/>
            <if-exceeding>
                <bandwidth-limit><user-var>bandwidth</user-var></bandwidth-limit>
                <burst-size-limit><user-var>policer_burst-size-limit</user-var></burst-size-limit>
            </if-exceeding>
            <then>
                <discard/>
            </then>
        </policer>
      </firewall>
    </configuration>
  </load-configuration>
</rpc>
<rpc><commit-configuration /></rpc>
<rpc><unlock-configuration /></rpc>
</junoscript>
