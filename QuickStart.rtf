{\rtf1\ansi\ansicpg1252\cocoartf1038\cocoasubrtf360
{\fonttbl\f0\fswiss\fcharset0 ArialMT;\f1\froman\fcharset0 Times-Roman;\f2\fnil\fcharset0 Calibri;
\f3\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue255;}
{\info
{\title Installing OSCARS from Sources}
{\author Mary Thompson}
{\*\company LBNL}}\margl1440\margr1440\vieww19740\viewh16200\viewkind1\viewscale125
\deftab720
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0\qc

\f0\fs28 \cf0 OSCARS QuickStart\
Jan 30, 2011\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0\qc

\f1\fs22 \cf0 \
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Set environent variables\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\b0\fs22 \cf0 Set the environment variables $OSCARS_DIST and $OSCARS_HOME. \
$OSCARS_DIST is the source directory for OSCARS.\
$OSCARS_HOME is the deployment directory.\
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Get code\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\b0\fs22 \cf0 You can use svn to download the most recent set of OSCARS sources or you can download a tar file of the last checkpointed SDK set of sources.  To use svn\
\
\pard\pardeftab720\ri0

\f1\fs24 \cf0      
\f3\fs21 cd $OSCARS_DIST\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0
\cf0   svn co {\field{\*\fldinst{HYPERLINK "https://oscars.es.net/repos/oscars/branches/0.6"}}{\fldrslt \cf2 \ul \ulc2 https://oscars.es.net/repos/oscars/branches/0.6}}  latest sources\
  svn co {\field{\*\fldinst{HYPERLINK "https://oscars.es.net/repos/oscars/releases/"}}{\fldrslt \cf2 \ul \ulc2 https://oscars.es.net/repos/oscars/releases/}}oscars-0.6-sdk-01.11.11 \'96 sdk release
\f0\fs22 \

\f3\fs21 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\fs22 \cf0 The tar file including all the necessary jar files can be downloaded from the oscars-idc wiki at\
  \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f3\fs21 \cf0   http://code.google.com/p/oscars-idc/wiki/SoftwareDownload\
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Binary Distribution\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\b0\fs22 \cf0 Run $OSCARS_DIST/deployOscarsBin.sh  to initialize the mysql tables. (see below for details)\
\
Run $OSCARS_DIST/bin/exportconfig\
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Source Distribution\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\b0\fs22 \cf0 Run  $OSCARS_DIST/bin/deployOscarsSrc.sh script which configures the OSCARS package. This script may be run more than once. If it has already completed an action, it will not change the result.\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\ri0
\cf0 1. Creates the  $OSCARS_HOME directory if it does not exist.\
\
 2. Prompts for the mysql root user password. If this password is empty, set it with the following command:\
/usr/bin/mysqladmin -u root password 'new-password'\
\
3. Executes several scripts to create and initialize the OSCARS authN, author, rm and ion databases and tables. \
If you receive the following errors you have incorrectly entered the mysql root password\
\
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: YES)\
ERROR 1045 (28000): Access denied for user 'root'@'localhost' (using password: NO)\
\
4. Copies all the config.yaml.template files to their non-template versions. These files are needed for configuring the OSCARS package.\
NOTE: the config.yaml files define the mysql oscarsUser and password and the port on which each service it to run. If you need to change these values, edit the config.yaml files in the config directory in each service directory.\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0
\cf0 \
Build the system using:\
	mvn install.\
\
	the following mvn switches may be useful\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\ri0
\cf0 	-DskipTests  - skips all the unit tests\
	-Dmaven.test.failure.ignore=true  - executes the unit tests, but continues after \
		failures\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0
\cf0 \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\ri0
\cf0 After all the servers have been built, maven executes the $OSCARS_DIST/bin/exportconfig command. This command copies config files from $OSACRS_DIST to $OSCARS_HOME and executes few other commands to configure the OSCARS package completely. NOTE exportconfig will not overwrite files that have already been copied.\
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Start the servers\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\b0\fs22 \cf0 Run $OSCARS_DIST/bin/startServers.sh dev | sdk ALL to start all the OSCARS Services\
$OSCARS_DIST/bin/testServers.sh. dev | sdk checks to see that all the services have started\
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Test the installation\
\pard\pardeftab720\ri0

\f1\b0\fs24 \cf0 There are several scripts in $OSCARS_DIST/api/bin.\
\pard\pardeftab720\li720\ri0

\f3\fs21 \cf0 createRes.sh \'96pf <paramFile>\
modifyRes.sh \'96pf <paramFile>  (not implemented in the Coordinator yet)\
cancelRes.sh \'96gri <gri>\
query.sh \'96gri <gri>\
list.sh \'96n <numReq> -o <offset> -st <status>\
setupPath.sh \'96gri <gri>\
teardownPath.sh \'96gri <gri>\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\fs22 \cf0 These scripts can be run in the following contexts: PRODUCTION/pro, DEVELOPMENT/dev, SDK/sdk, and UNITTEST/test. In SDK and UNITTEST all the services are run over http. In DEVELOPMENT authN, authNPolicy and WBUI are run over https. So far all the contexts run the services on the same ports, but the plan is to have different contexts (especially UNITTEST) to use their own set of ports.\
\
 Some sample paramFiles can be found in api/src/test/resources/*.yaml\
\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\li720\ri0
\cf0 autoTD1.yaml \'96 creates a reservation of 4 minutes duration, starting immediately in testdomain-1. It should work with the default installation.\
autoTD2.yaml \'96 like TD1 except it creates the reservation in testdomain-2. To use this you must change the localDomain:id to testdomain-2 in topoBridge/config/config.yaml\
signalTD1.yaml \'96 creates a signal-xml reservation in testdomain-1 that will be exist for 5 days. You can use this reservation to test the setupPath and teardownPath operations.\
autoTD3TD4.yaml \'96 creates a  mutli-domain reservation starting in testdomain-3 and ending in testdomain-4. \
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0
\cf0 \
\pard\pardeftab720\ri0\sb240\sa60

\f2\b\fs26 \cf0 Stop Servers\
\pard\pardeftab720\ri0

\f1\b0\fs24 \cf0 Run $OSCARS_DIST/bin/stopServers ALL to stop all the servers.\
Individual servers can be started or stopped by using one or more of the following names:\
\pard\pardeftab720\li720\ri0

\f3\fs21 \cf0 authN authZ api coord topoBridge rm stubPSS eomplsPSS dragonPSS PSS\
lookup wbui bwPCE connPCE dijPCE vlanPCE nullAgg notifyBridge wsnbroker ionui\
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardeftab720\ri0

\f0\fs22 \cf0 \
}