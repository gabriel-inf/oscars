<html>
<head>
    <script type="text/javascript>
        dojo.addOnLoad(function(){
            var w = dojo.byId("userDetailsLogin");
            w.value= oscarsState.login;
            console.log(w.value);
        });
        dojo.addOnLoad(function(){
            dojo.xhrPost({
                url: 'servlet/UserQuery',
                handleAs: "json-comment-filtered",
                load: oscars.Form.handleReply,
                error: oscars.Form.handleError,
                form: dojo.byId("userDetailsForm")
            });
        });
    </script>
</head>

<p>Required fields are outlined in green.</p>
<form id="userDetailsForm" method="POST" action="servlet/UserDetails">
  <input type="hidden" name="login" id="userDetailsLogin" />
  <input type="submit" name="userModify" value="Modify" />
  <table>
  <tbody>
  <tr>
    <td>Login Name</td>
    <td class="required">
        <input type="text" name="profileName" id="profileName"
               dojoType="dijit.form.ValidationTextBox"
               regExp="[\w]" required="true"
               promptMessage="Enter a login name"
               invalidMessage="You must enter a login name"
               value="" />
    </td>
  </tr>
  <tr>
    <td>Password (Enter twice)</td>
    <td class="required">
      <input type="password" name="password" id="password"
             dojoType="dijit.form.ValidationTextBox" regExp="[\w]+"
             required="true"
             promptMessage="Enter an account password"
             invalidMessage="You must enter an account password" />
    </td>
  </tr>
  <tr>
    <td>Password Confirmation</td>
    <td class="required">
      <input type="password"
             name="passwordConfirmation" id="passwordConfirmation"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Reconfirm the account password"
             invalidMessage="You must reconfirm the account password" />
    </td>
  </tr>
  <tr>
    <td>First Name</td>
    <td class="required">
      <input type="text" name="firstName" id="firstName"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the first name"
             invalidMessage="You must enter the first name"
             value="" />
    </td>
  </tr>
  <tr>
    <td>Last Name</td>
    <td class="required">
      <input type="text" name="lastName" id="lastName"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the last name"
             invalidMessage="You must enter the last name"
             value="" />
    </td>
  </tr>
  <tr>
    <td>X.509 subject name</td>
    <td class="required">
      <input type="text" name="certSubject" id="certSubject"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the certificate subject"
             invalidMessage="You must enter the certificate subject"
             value="" />
    </td>
  </tr>
  <tr>
    <td>X.509 issuer name</td>
    <td class="required">
      <input type="text" name="certIssuer" id="certIssuer"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the issuer of the certificate"
             invalidMessage="You must enter the issuer of the certificate"
             value="" />
    </td>
  </tr>
  <tr>
    <td>Organization</td>
    <td>
        <div id="institutionMenuDiv" />
    </td>
  </tr>
  <div id="roleListDiv" />
  <tr>
    <td valign="top">Personal Description</td>
    <td>
       <input name="description" id="description"
              dojoType="dijit.form.TextBox"
              promptMessage="Enter a personal description"
              value="" />
    </td>
  </tr>
  <tr>
    <td>E-mail (Primary)</td>
    <td class="required">
      <input name="emailPrimary" id="emailPrimary"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the primary email address"
             invalidMessage="You must enter the primary email address"
             value="" />
    </td>
  </tr>
  <tr>
    <td>E-mail (Secondary)</td>
    <td>
      <input name="emailSecondary" id="emailSecondary"
             dojoType="dijit.form.TextBox"
             promptMessage="Enter a secondary email address"
             value="" />
    </td>
  </tr>
  <tr>
    <td>Phone Number (Primary)</td>
    <td class="required">
      <input name="phonePrimary" id="phonePrimary"
             dojoType="dijit.form.ValidationTextBox"
             regExp="[\w]+" required="true"
             promptMessage="Enter the primary phone number"
             invalidMessage="You must enter the primary phone number"
             value="" />
    </td>
  </tr>
  <tr>
    <td>Phone Number (Secondary)</td>
    <td>
      <input name="phoneSecondary" id="phoneSecondary"
             dojoType="dijit.form.TextBox"
             promptMessage="Enter a secondary phone number"
             value="" />
    </td>
  </tr>
  </tbody>
  </table>
</form>
</html>
